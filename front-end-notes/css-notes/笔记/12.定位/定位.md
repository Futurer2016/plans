# 定位 {ignore}

[toc]

定位：手动控制元素在包含块中的精准位置

涉及的CSS属性: position

## position

- static (默认) 静态定位(不定位)
- relative 相对定位
- absolute 绝对定位
- fixed 固定定位

只要position的取值不是static 则认为该元素是定位元素。

定位元素会脱离文档流(相对定位除外)

一个脱离了文档流的元素：

1. 文档流中的元素摆放时，会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素

## 相对定位 relative
不会导致元素脱离文档流，只会让元素相对于原来位置进行偏移。

通过4个属性设置其位置: 
- top
- right 
- bottom
- left 

相对定位下，盒子的偏移不会对其它盒子造成任何影响, 可与浮动属性同时使用

## 绝对定位 absolute

1. 宽高为auto，适应内容
2. 包含块变化，找祖先元素中第一个定位元素，该元素的**填充盒**为其包含块。若找不到，则它的包含块为整个网页

## 固定定位 fixed

其他都与绝对定位一样。

包含块不同：固定定位的包含块固定为视口(浏览器的可视区域)

## 定位下的居中

1. 定宽(高)
2. 将左右(上下)距离设置为0
3. 将左右(上下)margin设置为auto

> 在绝对定位和固定定位中，margin 为 auto 会自动吸收掉剩余空间, 这个特性只有在四个方向的距离都固定时才会显示出来。

## 多个元素重叠时

堆叠上下文

定位元素设置z-index属性，通常情况下，该值越大，越靠近用户

只有定位元素设置z-index有效，其他无效

z-index 可以为负数，如果为负数，遇到常规流、浮动流，会被覆盖

## 补充

> 1. 绝对定位、固定定位元素，一定是块盒(浏览器内部强制修改为块盒)
> 2. 绝对定位、固定定位元素，一定不是浮动元素(**无视属性书写顺序**，只要存在决定定位、固定定位，浏览器强制将浮动变为none)
> 3. 没有外边距合并(触发BFC)